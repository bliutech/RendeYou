<!--
  Temporary frontend to test backend endpoints.
-->

<!DOCTYPE html>
<html>

<head>

</head>

<body>
  <form id="register">
    <p>/register</p>
    <p><label>Username: <input></label></p>
    <p><label>Password: <input type="password"></label></p>
    <input type="submit">
  </form>

  <form id="get-user">
    <p>/user/[id]</p>
    <p><label>Id: <input></label></p>
    <input type="submit">
  </form>

  <script>
    function backend(endpoint) {
      return "http://localhost:8000" + endpoint;
    }

    const registerForm = document.getElementById("register");
    registerForm.addEventListener("submit", function(e) {
      e.preventDefault();
      const data = {
        username: registerForm.querySelector("input").value,
        password: registerForm.querySelector("input[type=password]").value
      }
      fetch(backend("/register"), {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });
    });

    const getUserForm = document.getElementById("get-user");
    getUserForm.addEventListener("submit", function(e) {
      e.preventDefault();
      const id = getUserForm.querySelector("input").value;
      fetch(backend("/user/" + id));
    });
  </script>
</body>

</html>
